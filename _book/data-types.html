<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Kappale 3 Tietotyypit | R-ohjelmoinnin perusteet</title>
  <meta name="description" content="This repository contains materials used in an introductory level R course at university of Eastern Finland." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Kappale 3 Tietotyypit | R-ohjelmoinnin perusteet" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This repository contains materials used in an introductory level R course at university of Eastern Finland." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Kappale 3 Tietotyypit | R-ohjelmoinnin perusteet" />
  
  <meta name="twitter:description" content="This repository contains materials used in an introductory level R course at university of Eastern Finland." />
  

<meta name="author" content="Anton Klåvus (2020), converted to bookdown by Juho Kopra (2021)" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="variables-and-vectors.html"/>
<link rel="next" href="reading-data.html"/>
<script src="libs/header-attrs-2.9/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R-ohjelmoinnin perusteet</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="r-kurssi.html"><a href="r-kurssi.html"><i class="fa fa-check"></i>R-kurssi</a>
<ul>
<li class="chapter" data-level="" data-path="r-kurssi.html"><a href="r-kurssi.html#ohjeita-verkkokirjan-käyttöön"><i class="fa fa-check"></i>Ohjeita verkkokirjan käyttöön</a></li>
<li class="chapter" data-level="" data-path="r-kurssi.html"><a href="r-kurssi.html#lunttilappu"><i class="fa fa-check"></i>Lunttilappu</a></li>
<li class="chapter" data-level="" data-path="r-kurssi.html"><a href="r-kurssi.html#verkkolähteitä"><i class="fa fa-check"></i>Verkkolähteitä</a></li>
<li class="chapter" data-level="" data-path="r-kurssi.html"><a href="r-kurssi.html#sisällysluettelo"><i class="fa fa-check"></i>Sisällysluettelo</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="alkuvalmistelut.html"><a href="alkuvalmistelut.html"><i class="fa fa-check"></i>Alkuvalmistelut</a>
<ul>
<li class="chapter" data-level="" data-path="alkuvalmistelut.html"><a href="alkuvalmistelut.html#rstudio"><i class="fa fa-check"></i>RStudio</a></li>
<li class="chapter" data-level="" data-path="alkuvalmistelut.html"><a href="alkuvalmistelut.html#rn-ja-rstudion-asentaminen-omalle-tietokoneelle"><i class="fa fa-check"></i>R:n ja RStudion asentaminen omalle tietokoneelle</a></li>
<li class="chapter" data-level="" data-path="alkuvalmistelut.html"><a href="alkuvalmistelut.html#rstudion-asennus-yliopiston-koneelle"><i class="fa fa-check"></i>RStudion asennus yliopiston koneelle</a></li>
<li class="chapter" data-level="" data-path="alkuvalmistelut.html"><a href="alkuvalmistelut.html#rstudion-käyttö"><i class="fa fa-check"></i>RStudion käyttö</a></li>
<li class="chapter" data-level="" data-path="alkuvalmistelut.html"><a href="alkuvalmistelut.html#rcourse-paketin-asentaminen"><i class="fa fa-check"></i>Rcourse-paketin asentaminen</a>
<ul>
<li class="chapter" data-level="" data-path="alkuvalmistelut.html"><a href="alkuvalmistelut.html#r-paketit"><i class="fa fa-check"></i>R-paketit</a></li>
<li class="chapter" data-level="" data-path="alkuvalmistelut.html"><a href="alkuvalmistelut.html#asentaminen"><i class="fa fa-check"></i>Asentaminen</a></li>
<li class="chapter" data-level="" data-path="alkuvalmistelut.html"><a href="alkuvalmistelut.html#opiskelu-ja-tenttiminen-rcourse-paketin-avulla"><i class="fa fa-check"></i>Opiskelu ja tenttiminen Rcourse-paketin avulla</a></li>
<li class="chapter" data-level="" data-path="alkuvalmistelut.html"><a href="alkuvalmistelut.html#tehtävien-tallentaminen-skripteihin-rstudiolla"><i class="fa fa-check"></i>Tehtävien tallentaminen skripteihin RStudiolla</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Johdanto</a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#what_R"><i class="fa fa-check"></i><b>1.1</b> Mikä R on ja mitä sillä tehdään?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="variables-and-vectors.html"><a href="variables-and-vectors.html"><i class="fa fa-check"></i><b>2</b> Muuttujat ja vektorit</a>
<ul>
<li class="chapter" data-level="2.1" data-path="variables-and-vectors.html"><a href="variables-and-vectors.html#muuttujat-variables"><i class="fa fa-check"></i><b>2.1</b> Muuttujat (Variables)</a></li>
<li class="chapter" data-level="2.2" data-path="variables-and-vectors.html"><a href="variables-and-vectors.html#kommentit"><i class="fa fa-check"></i><b>2.2</b> Kommentit</a></li>
<li class="chapter" data-level="2.3" data-path="variables-and-vectors.html"><a href="variables-and-vectors.html#vektorit-vectors"><i class="fa fa-check"></i><b>2.3</b> Vektorit (Vectors)</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="variables-and-vectors.html"><a href="variables-and-vectors.html#ei-numeeriset-vektorit"><i class="fa fa-check"></i><b>2.3.1</b> Ei-numeeriset vektorit</a></li>
<li class="chapter" data-level="2.3.2" data-path="variables-and-vectors.html"><a href="variables-and-vectors.html#vektorien-indeksointi-ja-leikkely"><i class="fa fa-check"></i><b>2.3.2</b> Vektorien indeksointi ja leikkely</a></li>
<li class="chapter" data-level="2.3.3" data-path="variables-and-vectors.html"><a href="variables-and-vectors.html#puuttuvat-arvot"><i class="fa fa-check"></i><b>2.3.3</b> Puuttuvat arvot</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="variables-and-vectors.html"><a href="variables-and-vectors.html#extra"><i class="fa fa-check"></i><b>2.4</b> Extra: Alkeistietotyypit ja erikoisarvot</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="variables-and-vectors.html"><a href="variables-and-vectors.html#ääretön-ja-miinus-ääretön"><i class="fa fa-check"></i><b>2.4.1</b> Ääretön ja miinus ääretön</a></li>
<li class="chapter" data-level="2.4.2" data-path="variables-and-vectors.html"><a href="variables-and-vectors.html#ei-numero"><i class="fa fa-check"></i><b>2.4.2</b> Ei-numero</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-types.html"><a href="data-types.html"><i class="fa fa-check"></i><b>3</b> Tietotyypit</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-types.html"><a href="data-types.html#data-frame"><i class="fa fa-check"></i><b>3.1</b> Data frame</a></li>
<li class="chapter" data-level="3.2" data-path="data-types.html"><a href="data-types.html#matriisi"><i class="fa fa-check"></i><b>3.2</b> Matriisi</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-types.html"><a href="data-types.html#matriisin-luominen"><i class="fa fa-check"></i><b>3.2.1</b> Matriisin luominen</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-types.html"><a href="data-types.html#matriisin-koko"><i class="fa fa-check"></i><b>3.2.2</b> Matriisin koko</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-types.html"><a href="data-types.html#matriisin-indeksointi"><i class="fa fa-check"></i><b>3.2.3</b> Matriisin indeksointi</a></li>
<li class="chapter" data-level="3.2.4" data-path="data-types.html"><a href="data-types.html#matriisien-rakentaminen-vektoreista"><i class="fa fa-check"></i><b>3.2.4</b> Matriisien rakentaminen vektoreista</a></li>
<li class="chapter" data-level="3.2.5" data-path="data-types.html"><a href="data-types.html#rivien-ja-sarakkeiden-nimeäminen"><i class="fa fa-check"></i><b>3.2.5</b> Rivien ja sarakkeiden nimeäminen</a></li>
<li class="chapter" data-level="3.2.6" data-path="data-types.html"><a href="data-types.html#matriiseilla-laskeminen"><i class="fa fa-check"></i><b>3.2.6</b> Matriiseilla laskeminen</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-types.html"><a href="data-types.html#tietotyyppien-tarkastelu"><i class="fa fa-check"></i><b>3.3</b> Tietotyyppien tarkastelu</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="data-types.html"><a href="data-types.html#view"><i class="fa fa-check"></i><b>3.3.1</b> View()</a></li>
<li class="chapter" data-level="3.3.2" data-path="data-types.html"><a href="data-types.html#str"><i class="fa fa-check"></i><b>3.3.2</b> str()</a></li>
<li class="chapter" data-level="3.3.3" data-path="data-types.html"><a href="data-types.html#head"><i class="fa fa-check"></i><b>3.3.3</b> head()</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data-types.html"><a href="data-types.html#extra-taulukko-ja-lista"><i class="fa fa-check"></i><b>3.4</b> Extra: Taulukko ja lista</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="data-types.html"><a href="data-types.html#taulukko"><i class="fa fa-check"></i><b>3.4.1</b> Taulukko</a></li>
<li class="chapter" data-level="3.4.2" data-path="data-types.html"><a href="data-types.html#lista"><i class="fa fa-check"></i><b>3.4.2</b> Lista</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="reading-data.html"><a href="reading-data.html"><i class="fa fa-check"></i><b>4</b> Datan lukeminen</a>
<ul>
<li class="chapter" data-level="4.1" data-path="reading-data.html"><a href="reading-data.html#hakemistopolut-ja-tiedostopäätteet"><i class="fa fa-check"></i><b>4.1</b> Hakemistopolut ja tiedostopäätteet</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="reading-data.html"><a href="reading-data.html#hakemistopolut"><i class="fa fa-check"></i><b>4.1.1</b> Hakemistopolut</a></li>
<li class="chapter" data-level="4.1.2" data-path="reading-data.html"><a href="reading-data.html#tiedostopäätteet"><i class="fa fa-check"></i><b>4.1.2</b> Tiedostopäätteet</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="reading-data.html"><a href="reading-data.html#tekstitiedostot"><i class="fa fa-check"></i><b>4.2</b> Tekstitiedostot</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="reading-data.html"><a href="reading-data.html#read.table"><i class="fa fa-check"></i><b>4.2.1</b> read.table()</a></li>
<li class="chapter" data-level="4.2.2" data-path="reading-data.html"><a href="reading-data.html#read.csv"><i class="fa fa-check"></i><b>4.2.2</b> read.csv()</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="reading-data.html"><a href="reading-data.html#data-framen-rakenteen-tutkiminen"><i class="fa fa-check"></i><b>4.3</b> Data framen rakenteen tutkiminen</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="reading-data.html"><a href="reading-data.html#rn-sisäänrakennetut-datasetit"><i class="fa fa-check"></i><b>4.3.1</b> R:n sisäänrakennetut datasetit</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="reading-data.html"><a href="reading-data.html#muut-tiedostot"><i class="fa fa-check"></i><b>4.4</b> Muut tiedostot</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="reading-data.html"><a href="reading-data.html#excel"><i class="fa fa-check"></i><b>4.4.1</b> Excel</a></li>
<li class="chapter" data-level="4.4.2" data-path="reading-data.html"><a href="reading-data.html#spss"><i class="fa fa-check"></i><b>4.4.2</b> SPSS</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-wrangling.html"><a href="data-wrangling.html"><i class="fa fa-check"></i><b>5</b> Datan muokkaaminen</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data-wrangling.html"><a href="data-wrangling.html#data-frame-wrangling"><i class="fa fa-check"></i><b>5.1</b> Uuden muuttujan tai rivin luonti datakehikkoon</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="data-wrangling.html"><a href="data-wrangling.html#data-framen-käsittely"><i class="fa fa-check"></i><b>5.1.1</b> Data framen käsittely</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="data-wrangling.html"><a href="data-wrangling.html#osajoukkojen-valinta"><i class="fa fa-check"></i><b>5.2</b> Osajoukkojen valinta</a></li>
<li class="chapter" data-level="5.3" data-path="data-wrangling.html"><a href="data-wrangling.html#faktorit"><i class="fa fa-check"></i><b>5.3</b> Faktorit</a></li>
<li class="chapter" data-level="5.4" data-path="data-wrangling.html"><a href="data-wrangling.html#factor-extra"><i class="fa fa-check"></i><b>5.4</b> Extra: Lääketutkimusesimerkki</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="statistics.html"><a href="statistics.html"><i class="fa fa-check"></i><b>6</b> Tunnusluvut</a>
<ul>
<li class="chapter" data-level="6.1" data-path="statistics.html"><a href="statistics.html#sijaintia-kuvaavat-tunnusluvut"><i class="fa fa-check"></i><b>6.1</b> Sijaintia kuvaavat tunnusluvut</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="statistics.html"><a href="statistics.html#minimi-ja-maksimi"><i class="fa fa-check"></i><b>6.1.1</b> Minimi ja maksimi</a></li>
<li class="chapter" data-level="6.1.2" data-path="statistics.html"><a href="statistics.html#keskiarvo"><i class="fa fa-check"></i><b>6.1.2</b> Keskiarvo</a></li>
<li class="chapter" data-level="6.1.3" data-path="statistics.html"><a href="statistics.html#mediaani"><i class="fa fa-check"></i><b>6.1.3</b> Mediaani</a></li>
<li class="chapter" data-level="6.1.4" data-path="statistics.html"><a href="statistics.html#kvantiilit"><i class="fa fa-check"></i><b>6.1.4</b> Kvantiilit</a></li>
<li class="chapter" data-level="6.1.5" data-path="statistics.html"><a href="statistics.html#moodi"><i class="fa fa-check"></i><b>6.1.5</b> Moodi</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="statistics.html"><a href="statistics.html#summary"><i class="fa fa-check"></i><b>6.2</b> summary()</a></li>
<li class="chapter" data-level="6.3" data-path="statistics.html"><a href="statistics.html#varianssi-ja-keskihajonta-ja-kvantiilit"><i class="fa fa-check"></i><b>6.3</b> Varianssi ja keskihajonta ja kvantiilit</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="distributions.html"><a href="distributions.html"><i class="fa fa-check"></i><b>7</b> Todennäköisyysjakaumat R:ssä</a>
<ul>
<li class="chapter" data-level="7.1" data-path="distributions.html"><a href="distributions.html#esimerkki-normaalijakauma"><i class="fa fa-check"></i><b>7.1</b> Esimerkki: normaalijakauma</a></li>
<li class="chapter" data-level="7.2" data-path="distributions.html"><a href="distributions.html#muita-jakaumia"><i class="fa fa-check"></i><b>7.2</b> Muita jakaumia</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="plotting.html"><a href="plotting.html"><i class="fa fa-check"></i><b>8</b> Kuvaajien piirtäminen</a>
<ul>
<li class="chapter" data-level="8.1" data-path="plotting.html"><a href="plotting.html#korkean-tason-piirtofunktiot"><i class="fa fa-check"></i><b>8.1</b> Korkean tason piirtofunktiot</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="plotting.html"><a href="plotting.html#plot"><i class="fa fa-check"></i><b>8.1.1</b> plot()</a></li>
<li class="chapter" data-level="8.1.2" data-path="plotting.html"><a href="plotting.html#muut-korkean-tason-funktiot"><i class="fa fa-check"></i><b>8.1.2</b> Muut korkean tason funktiot</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="plotting.html"><a href="plotting.html#alemman-tason-grafiikkatoiminnot"><i class="fa fa-check"></i><b>8.2</b> Alemman tason grafiikkatoiminnot</a></li>
<li class="chapter" data-level="8.3" data-path="plotting.html"><a href="plotting.html#kuvaajan-tallentaminen"><i class="fa fa-check"></i><b>8.3</b> Kuvaajan tallentaminen</a></li>
<li class="chapter" data-level="8.4" data-path="plotting.html"><a href="plotting.html#kuvaajien-piirtäminen-käytännössä"><i class="fa fa-check"></i><b>8.4</b> Kuvaajien piirtäminen käytännössä</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="tests.html"><a href="tests.html"><i class="fa fa-check"></i><b>9</b> Tilastollinen testaaminen</a>
<ul>
<li class="chapter" data-level="9.1" data-path="tests.html"><a href="tests.html#chi-squared-test"><i class="fa fa-check"></i><b>9.1</b> Khi toiseen -testi</a></li>
<li class="chapter" data-level="9.2" data-path="tests.html"><a href="tests.html#kahden-otoksen-t-testi"><i class="fa fa-check"></i><b>9.2</b> Kahden otoksen t-testi</a></li>
<li class="chapter" data-level="9.3" data-path="tests.html"><a href="tests.html#varianssianalyysi"><i class="fa fa-check"></i><b>9.3</b> Varianssianalyysi</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="linear-models.html"><a href="linear-models.html"><i class="fa fa-check"></i><b>10</b> Lineaariset mallit</a>
<ul>
<li class="chapter" data-level="10.1" data-path="linear-models.html"><a href="linear-models.html#teoria"><i class="fa fa-check"></i><b>10.1</b> Teoria</a></li>
<li class="chapter" data-level="10.2" data-path="linear-models.html"><a href="linear-models.html#esimerkki"><i class="fa fa-check"></i><b>10.2</b> Esimerkki</a></li>
<li class="chapter" data-level="10.3" data-path="linear-models.html"><a href="linear-models.html#tarkempia-tietoja-mallista"><i class="fa fa-check"></i><b>10.3</b> Tarkempia tietoja mallista</a></li>
<li class="chapter" data-level="10.4" data-path="linear-models.html"><a href="linear-models.html#ennustaminen"><i class="fa fa-check"></i><b>10.4</b> Ennustaminen</a></li>
<li class="chapter" data-level="10.5" data-path="linear-models.html"><a href="linear-models.html#korrelaatio"><i class="fa fa-check"></i><b>10.5</b> Korrelaatio</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>11</b> Funktiot</a>
<ul>
<li class="chapter" data-level="11.1" data-path="functions.html"><a href="functions.html#funktion-käsite"><i class="fa fa-check"></i><b>11.1</b> Funktion käsite</a></li>
<li class="chapter" data-level="11.2" data-path="functions.html"><a href="functions.html#r-funktiot"><i class="fa fa-check"></i><b>11.2</b> R-funktiot</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="functions.html"><a href="functions.html#funktioiden-määrittely"><i class="fa fa-check"></i><b>11.2.1</b> Funktioiden määrittely</a></li>
<li class="chapter" data-level="11.2.2" data-path="functions.html"><a href="functions.html#argumentit-ja-funktion-kutsuminen"><i class="fa fa-check"></i><b>11.2.2</b> Argumentit ja funktion kutsuminen</a></li>
<li class="chapter" data-level="11.2.3" data-path="functions.html"><a href="functions.html#funktio-ilman-argumentteja"><i class="fa fa-check"></i><b>11.2.3</b> Funktio ilman argumentteja</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="functions.html"><a href="functions.html#arvojen-palautus"><i class="fa fa-check"></i><b>11.3</b> Arvojen palautus</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="functions.html"><a href="functions.html#usean-arvon-palautus"><i class="fa fa-check"></i><b>11.3.1</b> Usean arvon palautus</a></li>
<li class="chapter" data-level="11.3.2" data-path="functions.html"><a href="functions.html#palautus-ilman-return-käskyä"><i class="fa fa-check"></i><b>11.3.2</b> Palautus ilman return-käskyä</a></li>
<li class="chapter" data-level="11.3.3" data-path="functions.html"><a href="functions.html#funktio-ilman-tulosta"><i class="fa fa-check"></i><b>11.3.3</b> Funktio ilman tulosta</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="ifelse.html"><a href="ifelse.html"><i class="fa fa-check"></i><b>12</b> Ehtorakenteet</a>
<ul>
<li class="chapter" data-level="12.1" data-path="ifelse.html"><a href="ifelse.html#loogiset-operaattorit"><i class="fa fa-check"></i><b>12.1</b> Loogiset operaattorit</a></li>
<li class="chapter" data-level="12.2" data-path="ifelse.html"><a href="ifelse.html#ehtorakenteet"><i class="fa fa-check"></i><b>12.2</b> Ehtorakenteet</a></li>
<li class="chapter" data-level="12.3" data-path="ifelse.html"><a href="ifelse.html#alkioiden-poimiminen-vektorista-tietyn-ehdon-perusteella"><i class="fa fa-check"></i><b>12.3</b> Alkioiden poimiminen vektorista tietyn ehdon perusteella</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="loops.html"><a href="loops.html"><i class="fa fa-check"></i><b>13</b> Toistorakenteet (loops)</a>
<ul>
<li class="chapter" data-level="13.1" data-path="loops.html"><a href="loops.html#for-silmukka"><i class="fa fa-check"></i><b>13.1</b> For-silmukka</a></li>
<li class="chapter" data-level="13.2" data-path="loops.html"><a href="loops.html#while-slimukat"><i class="fa fa-check"></i><b>13.2</b> While-slimukat</a></li>
<li class="chapter" data-level="13.3" data-path="loops.html"><a href="loops.html#sisäkkäiset-silmukat-nested-loops"><i class="fa fa-check"></i><b>13.3</b> Sisäkkäiset silmukat (nested loops)</a></li>
<li class="chapter" data-level="13.4" data-path="loops.html"><a href="loops.html#iterointiin-puuttuminen-next-ja-break"><i class="fa fa-check"></i><b>13.4</b> Iterointiin puuttuminen: next ja break</a></li>
<li class="chapter" data-level="13.5" data-path="loops.html"><a href="loops.html#apply-funktiot"><i class="fa fa-check"></i><b>13.5</b> Apply-funktiot</a></li>
<li class="chapter" data-level="13.6" data-path="loops.html"><a href="loops.html#vinkkejä-tehtäviin"><i class="fa fa-check"></i><b>13.6</b> Vinkkejä tehtäviin</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Julkaistu bookdownilla.</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R-ohjelmoinnin perusteet</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data_types" class="section level1" number="3">
<h1><span class="header-section-number">Kappale 3</span> Tietotyypit</h1>
<p>Tässä osassa tutustutaan neljään uuteen tietorakenteeseen:</p>
<ul>
<li><a href="data-types.html#data-frame">data frame (data.fame)</a></li>
<li><a href="data-types.html#matriisi">matriisi (matrix)</a></li>
<li><a href="data-types.html#taulukko">taulukko (array)</a></li>
<li><a href="data-types.html#lista">lista (list)</a></li>
</ul>
<p>Data frame on R:n objekti, jossa voidaan säilyttää aineistoa. Muuttujat ova sarakkeina ja muuttujilla tulee olla aina nimi.</p>
<p>Matriisi voi olla joillekin sanana tuttu myös tilastotieteen tai matematiikan kursseilta, ja R:n matriisi vastaakin matemaattista matriisia. Tästä syystä matriisi on hyvin yleinen tietorakenne, johon ei voi olla törmäämättä jos käyttää R:ää tutkimuksessa. Matriisilla tehdään yleensä kuitenkin matemaattisia operaatioita, eikä se ensisijaisesti ole aineiston säilytyspaikka.</p>
<p>Taulukko on juuri sitä miltä se kuulostaa: vektorintapainen tietorakenne, johon tallennetaan alkioita (elements), joilla on kaikilla sama luokka (class), eli esimerkiksi lukuja. Ero vektoriin on se, että taulukolla on useampi ulottuvuus. Matriisi on erikoistapaus taulukosta, sillä matriisi on kaksiulotteinen taulukko. Matriisi vastaa siis oikeastaan paremmin sitä mielikuvaa, joka monelle tulee mieleen suomen sanasta taulukko, ja matriisit ovatkin paljon yleisempiä kuin moniulotteiset taulukot.</p>
<p>Lista on kokoelma alkioita, jonka alkioina voi olla hyvin eri tyyppisiä objekteja.</p>
<p>Koska data frame on kaikista tärkein ja eniten käytetty tietotyyppi, niin aloitetaan siitä.</p>
<div id="data-frame" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Data frame</h2>
<p>Data frame on erittäin yleinen tapa tallentaa tietoa R:ssä. Data frame on kaksiulotteinen tietorakenne, eli sillä on rivejä ja sarakkeita. Data framen sarakkeet muodostuvat aiemmin tutuista vektoreista. Nämä vektorit voivat olla eri luokan vektoreita, mutta data frame asettaa lisärajoitteen: vektoreiden on oltava yhtä pitkiä. Yhden rivin tiedot ajatellaan koskevan yhtä tutkittavaa.</p>
<p>Luodaan data frame, josa on kaksi muuttujaa, height ja weight ja annetaan niihin kahdeksan mittauksen tiedot. Huomionarvoista on se, että komennon data.frame sulkujen sisällä on käytettävä yhtäsuuruusmerkkiä (=) eikä sijoitusoperaattoria (&lt;-). Tämä johtuu siitä, että teknisesti ottaen komento data.frame on funktio (funktioista lisää myöhemmin).</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="data-types.html#cb136-1" aria-hidden="true" tabindex="-1"></a>study_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">ID =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">8</span>,</span>
<span id="cb136-2"><a href="data-types.html#cb136-2" aria-hidden="true" tabindex="-1"></a>                         <span class="at">height =</span> <span class="fu">c</span>(<span class="fl">189.8</span>, <span class="fl">184.0</span>, <span class="fl">173.8</span>, <span class="fl">175.9</span>, <span class="fl">169.0</span>, <span class="fl">183.7</span>, <span class="fl">181.8</span>, <span class="fl">16.9</span>),</span>
<span id="cb136-3"><a href="data-types.html#cb136-3" aria-hidden="true" tabindex="-1"></a>                         <span class="at">gender =</span> <span class="fu">c</span>(<span class="st">&quot;male&quot;</span>,<span class="st">&quot;female&quot;</span>,<span class="st">&quot;male&quot;</span>,<span class="st">&quot;male&quot;</span>,<span class="st">&quot;female&quot;</span>,<span class="st">&quot;male&quot;</span>,<span class="st">&quot;male&quot;</span>,<span class="st">&quot;female&quot;</span>))</span>
<span id="cb136-4"><a href="data-types.html#cb136-4" aria-hidden="true" tabindex="-1"></a>study_data</span></code></pre></div>
<pre><code>##   ID height gender
## 1  1  189.8   male
## 2  2  184.0 female
## 3  3  173.8   male
## 4  4  175.9   male
## 5  5  169.0 female
## 6  6  183.7   male
## 7  7  181.8   male
## 8  8   16.9 female</code></pre>
</div>
<div id="matriisi" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Matriisi</h2>
<div id="matriisin-luominen" class="section level3" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Matriisin luominen</h3>
<p>Matriisin luominen on yksinkertaista, ja tapahtuu funktiolla <code>matrix</code></p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="data-types.html#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>, <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">ncol =</span> <span class="dv">3</span>)</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    4    7
## [2,]    2    5    8
## [3,]    3    6    9</code></pre>
<p>Funktiolle matrix annetaan siis matriisiin tallennettavat luvut vektorina, sekä matriisin rivien ja sarakkeiden määrä (<code>ncol</code> ja <code>nrow</code>). Matriisi voi koostua myös kokonaan tietystä arvosta:</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="data-types.html#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">5</span>)</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5]
## [1,]    0    0    0    0    0
## [2,]    0    0    0    0    0</code></pre>
<p>Useimmiten matriisien data luetaan R:ään jostain tiedostosta, joka on tuotettu Excelillä tai jollain muulla ohjelmalla (tutkimustulosten kirjaus suoraan R:ään olisi raskasta). Matriisien luonti käsin on kuitenkin hyvä osata, sillä pienillä matriiseilla on kätevää testata omaa koodia. Myös yllä olevan kaltaisia, esim. nollalla täytettyjä matriiseja on joskus kätevää käyttää “alustana”, kun lasketaan omasta datasta tuloksia rivi tai sarake kerrallaan. Tämä johtuu siitä, että olemassa olevan matriisin rivin arvojen vaihtaminen on nopeampi operaatio kuin rivin lisääminen matriisiin.</p>
</div>
<div id="matriisin-koko" class="section level3" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Matriisin koko</h3>
<p>Joskus voi törmätä matriiseihin, joiden koko ei tiedä, tai ei halua olettaa. Tällöin tarvitaan funktioita, jotka kertovat matriisin koosta. Esimerkiksi, kun luetaan dataa R:ään tiedostoista, on hyvä tarkistaa, että kaikki rivit ja sarakkeet ovat mukana. <code>nrow</code> ja <code>ncol</code> palauttavat rivien ja sarakkeiden määrän, <code>dim</code> palauttaa matriisin rivien ja sarakkeiden määrän, rivit ensin.</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="data-types.html#cb142-1" aria-hidden="true" tabindex="-1"></a>X <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="at">ncol =</span> <span class="dv">4</span>)</span>
<span id="cb142-2"><a href="data-types.html#cb142-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Number of rows</span></span>
<span id="cb142-3"><a href="data-types.html#cb142-3" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(X)</span></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="data-types.html#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Number of columns</span></span>
<span id="cb144-2"><a href="data-types.html#cb144-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(X)</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="data-types.html#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Dimensions</span></span>
<span id="cb146-2"><a href="data-types.html#cb146-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(X)</span></code></pre></div>
<pre><code>## [1] 3 4</code></pre>
</div>
<div id="matriisin-indeksointi" class="section level3" number="3.2.3">
<h3><span class="header-section-number">3.2.3</span> Matriisin indeksointi</h3>
<p>Matriisin indeksointi on hyvin samantapainen operaatio kuin vektorin indeksointi, eli matriisin perään laitetaan hakasulkeet ja niihin määritellään halutut arvot. Matriisin indeksoinnissa pitää kuitenkin antaa erikseen indeksit riveille ja sarakkeille, pilkulla erotettuna.</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="data-types.html#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Only nrow is enough, since the number of columns must be 3</span></span>
<span id="cb148-2"><a href="data-types.html#cb148-2" aria-hidden="true" tabindex="-1"></a>X <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>, <span class="at">nrow =</span> <span class="dv">3</span>)</span>
<span id="cb148-3"><a href="data-types.html#cb148-3" aria-hidden="true" tabindex="-1"></a>X</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    4    7
## [2,]    2    5    8
## [3,]    3    6    9</code></pre>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="data-types.html#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Element on second row, third column</span></span>
<span id="cb150-2"><a href="data-types.html#cb150-2" aria-hidden="true" tabindex="-1"></a>X[<span class="dv">2</span>, <span class="dv">3</span>]</span></code></pre></div>
<pre><code>## [1] 8</code></pre>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="data-types.html#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The complete first row</span></span>
<span id="cb152-2"><a href="data-types.html#cb152-2" aria-hidden="true" tabindex="-1"></a>X[<span class="dv">1</span>, ]</span></code></pre></div>
<pre><code>## [1] 1 4 7</code></pre>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="data-types.html#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The second and third values of the second column</span></span>
<span id="cb154-2"><a href="data-types.html#cb154-2" aria-hidden="true" tabindex="-1"></a>X[<span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">3</span>]</span></code></pre></div>
<pre><code>## [1] 8 9</code></pre>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="data-types.html#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get rows where the values of the first column is &gt; 1</span></span>
<span id="cb156-2"><a href="data-types.html#cb156-2" aria-hidden="true" tabindex="-1"></a>X[X[, <span class="dv">1</span>] <span class="sc">&gt;</span> <span class="dv">1</span>, ]</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    2    5    8
## [2,]    3    6    9</code></pre>
<p>HUOM: jos matriisia indeksoidessa tuloksessa sarakkeiden tai rivien määrä on tasan yksi, kuten yllä olevissa esimerkeissä viimeistä lukuun ottamatta, tuloksena on vektori, ei matriisi. Jos haluaa tuloksen olevan matriisi, tulee hakasulkeisiin lisätä määre <code>drop = FALSE</code></p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="data-types.html#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The complete first row</span></span>
<span id="cb158-2"><a href="data-types.html#cb158-2" aria-hidden="true" tabindex="-1"></a>X[<span class="dv">1</span>, ,drop <span class="ot">=</span> <span class="cn">FALSE</span>]</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    4    7</code></pre>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="data-types.html#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The second and third values of the second column</span></span>
<span id="cb160-2"><a href="data-types.html#cb160-2" aria-hidden="true" tabindex="-1"></a>X[<span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">3</span>, drop <span class="ot">=</span> <span class="cn">FALSE</span>]</span></code></pre></div>
<pre><code>##      [,1]
## [1,]    8
## [2,]    9</code></pre>
<p>Matriiseja voi myös muokata sijoittamalla haluttuihin paikkoihin uusia arvoja:</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="data-types.html#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Copy of X</span></span>
<span id="cb162-2"><a href="data-types.html#cb162-2" aria-hidden="true" tabindex="-1"></a>X_new <span class="ot">&lt;-</span> X</span>
<span id="cb162-3"><a href="data-types.html#cb162-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace first row with new values</span></span>
<span id="cb162-4"><a href="data-types.html#cb162-4" aria-hidden="true" tabindex="-1"></a>X_new[<span class="dv">1</span>, ] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">13</span>, <span class="dv">15</span>)</span>
<span id="cb162-5"><a href="data-types.html#cb162-5" aria-hidden="true" tabindex="-1"></a>X_new</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]   10   13   15
## [2,]    2    5    8
## [3,]    3    6    9</code></pre>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="data-types.html#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Replacement can also be a single value, and will be recycled</span></span>
<span id="cb164-2"><a href="data-types.html#cb164-2" aria-hidden="true" tabindex="-1"></a>X_new[<span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>, <span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb164-3"><a href="data-types.html#cb164-3" aria-hidden="true" tabindex="-1"></a>X_new</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]   10   13   15
## [2,]    0    5    8
## [3,]    0    6    9</code></pre>
<p>Rivejä tai sarakkeita voi myös poistaa. Tämä tapahtuu antamalla indeksi miinusmerkkisenä:</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="data-types.html#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Without first row</span></span>
<span id="cb166-2"><a href="data-types.html#cb166-2" aria-hidden="true" tabindex="-1"></a>X[<span class="sc">-</span><span class="dv">1</span>, ]</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    2    5    8
## [2,]    3    6    9</code></pre>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="data-types.html#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Without second column</span></span>
<span id="cb168-2"><a href="data-types.html#cb168-2" aria-hidden="true" tabindex="-1"></a>X[, <span class="sc">-</span><span class="dv">2</span>]</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    7
## [2,]    2    8
## [3,]    3    9</code></pre>
<div id="indeksimatriisi-index-matrix" class="section level4" number="3.2.3.1">
<h4><span class="header-section-number">3.2.3.1</span> Indeksimatriisi (index matrix)</h4>
<p>Jos halutaan poimia useampi yksittäinen arvo matriisista, tulee käyttää indeksimatriisia (index matrix).</p>
<p>Esimerkiksi, jos haluttaisiin poimia äskeisestä X-matriisista arvot [1, 2], [1, 3] ja [2,2], tämä ei toimi:</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="data-types.html#cb170-1" aria-hidden="true" tabindex="-1"></a>X[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>), <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">2</span>)]</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    4    7    4
## [2,]    4    7    4
## [3,]    5    8    5</code></pre>
<p>vaan tulee käyttää indeksimatriisia, jonka jokainen rivi antaa yhden halutun alkion indeksit, ensin rivi ja sitten sarake. Indeksimatriiseja tehdessä kannattaa asettaa lisämäärä <code>byrow = TRUE</code>, jolloin alkiot laitetaan matriisiin rivi kerrallaan, ei sarake kerrallaan niin kuin oletuksena.</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="data-types.html#cb172-1" aria-hidden="true" tabindex="-1"></a>i <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">2</span>), <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb172-2"><a href="data-types.html#cb172-2" aria-hidden="true" tabindex="-1"></a>i</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    2
## [2,]    1    3
## [3,]    2    2</code></pre>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="data-types.html#cb174-1" aria-hidden="true" tabindex="-1"></a>X[i]</span></code></pre></div>
<pre><code>## [1] 4 7 5</code></pre>
</div>
</div>
<div id="matriisien-rakentaminen-vektoreista" class="section level3" number="3.2.4">
<h3><span class="header-section-number">3.2.4</span> Matriisien rakentaminen vektoreista</h3>
<p>Matriisi koostuu usein useammasta muuttujasta ja havainnoista. Yleensä jokainen rivi vastaa yhtä havaintoa, ja sarake muuttujaa. Tämän takia on hyvä tietää, miten yksittäisistä vektoreista saa koottua matriiseja. Alla olevassa esimerkissä on koottu yhteen matriisiin Star Wars-hahmojen pituuksia ja painoja. Tämä tapahtuu <code>cbind</code> funktiolla (column bind), joka nimensä mukaan yhdistää vektorit matriisin sarakkeiksi. <code>cbind</code> voi yhdistää myös valmiita matriiseja yhteen, niin että matriisit ovat “vierekkäin” eli yhdistetyssä matriisissa on kummankin matriisin sarakkeet (rivien määrän tulee olla sama). Vastaavasti <code>rbind</code> (row bind) yhdistää matriiseja “allekkain”.</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="data-types.html#cb176-1" aria-hidden="true" tabindex="-1"></a>heights <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">172</span>, <span class="dv">167</span>, <span class="dv">96</span>, <span class="dv">202</span>, <span class="dv">150</span>, <span class="dv">178</span>)</span>
<span id="cb176-2"><a href="data-types.html#cb176-2" aria-hidden="true" tabindex="-1"></a>masses <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">77</span>, <span class="dv">75</span>, <span class="dv">32</span>, <span class="dv">136</span>, <span class="dv">49</span>, <span class="dv">120</span>)</span>
<span id="cb176-3"><a href="data-types.html#cb176-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-4"><a href="data-types.html#cb176-4" aria-hidden="true" tabindex="-1"></a>starwars <span class="ot">&lt;-</span> <span class="fu">cbind</span>(heights, masses)</span>
<span id="cb176-5"><a href="data-types.html#cb176-5" aria-hidden="true" tabindex="-1"></a>starwars</span></code></pre></div>
<pre><code>##      heights masses
## [1,]     172     77
## [2,]     167     75
## [3,]      96     32
## [4,]     202    136
## [5,]     150     49
## [6,]     178    120</code></pre>
</div>
<div id="rivien-ja-sarakkeiden-nimeäminen" class="section level3" number="3.2.5">
<h3><span class="header-section-number">3.2.5</span> Rivien ja sarakkeiden nimeäminen</h3>
<p>Matriisien rivit ja sarakkeet voi nimetä, ja usein tässä onkin järkeä. Yllä olevassa esimerkissä <code>starwars</code>-matriisin sarakkeet on nimetty alkuperäisten vektorin mukaan. Alla olevassa esimerkissä on lisää tapoja nimetä rivejä ja sarakkeita</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="data-types.html#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set column names by naming arguments while building matrix from vectors</span></span>
<span id="cb178-2"><a href="data-types.html#cb178-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(<span class="at">Height =</span> heights, <span class="at">Mass =</span> masses)</span></code></pre></div>
<pre><code>##      Height Mass
## [1,]    172   77
## [2,]    167   75
## [3,]     96   32
## [4,]    202  136
## [5,]    150   49
## [6,]    178  120</code></pre>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="data-types.html#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set column and row names explicitly</span></span>
<span id="cb180-2"><a href="data-types.html#cb180-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(starwars) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Height&quot;</span>, <span class="st">&quot;Mass&quot;</span>)</span>
<span id="cb180-3"><a href="data-types.html#cb180-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(starwars) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Luke Skywalker&quot;</span>, <span class="st">&quot;C-3PO&quot;</span>, <span class="st">&quot;R2-D2&quot;</span>, <span class="st">&quot;Darth Vader&quot;</span>, <span class="st">&quot;Leia Organa&quot;</span>, <span class="st">&quot;Owen Lars&quot;</span>)</span>
<span id="cb180-4"><a href="data-types.html#cb180-4" aria-hidden="true" tabindex="-1"></a>starwars</span></code></pre></div>
<pre><code>##                Height Mass
## Luke Skywalker    172   77
## C-3PO             167   75
## R2-D2              96   32
## Darth Vader       202  136
## Leia Organa       150   49
## Owen Lars         178  120</code></pre>
<p>Nimettyjä matriiseja voi indeksoida myös nimien perusteella:</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="data-types.html#cb182-1" aria-hidden="true" tabindex="-1"></a>starwars[<span class="fu">c</span>(<span class="st">&quot;Luke Skywalker&quot;</span>, <span class="st">&quot;R2-D2&quot;</span>), ]</span></code></pre></div>
<pre><code>##                Height Mass
## Luke Skywalker    172   77
## R2-D2              96   32</code></pre>
<p>Matriisiin voi myös lisätä uusia sarakkeita <code>cbind</code> funktiolla. Alla lisätään matriisiin starwars uusi sarake, jossa on hahmojen BMI:</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="data-types.html#cb184-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a vector for BMI and add to matrix with cbind</span></span>
<span id="cb184-2"><a href="data-types.html#cb184-2" aria-hidden="true" tabindex="-1"></a>bmi <span class="ot">&lt;-</span> starwars[, <span class="st">&quot;Mass&quot;</span>] <span class="sc">/</span> (starwars[, <span class="st">&quot;Height&quot;</span>] <span class="sc">/</span> <span class="dv">100</span>)<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb184-3"><a href="data-types.html#cb184-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cbind</span>(starwars, <span class="st">&quot;BMI&quot;</span> <span class="ot">=</span> bmi)</span></code></pre></div>
<pre><code>##                Height Mass      BMI
## Luke Skywalker    172   77 26.02758
## C-3PO             167   75 26.89232
## R2-D2              96   32 34.72222
## Darth Vader       202  136 33.33007
## Leia Organa       150   49 21.77778
## Owen Lars         178  120 37.87401</code></pre>
</div>
<div id="matriiseilla-laskeminen" class="section level3" number="3.2.6">
<h3><span class="header-section-number">3.2.6</span> Matriiseilla laskeminen</h3>
<p>Matriiseilla laskeminen on hyvin samankaltaista kuin vektoreilla laskeminen. Matriisin ja yksittäisen luvun välisessä operaatiossa matriisin alkiot käsitellään yksitellen. Samoin samankokoiset matriisit voi esim. lisätä yhteen, jolloin lisäys tapahtuu alkio kerrallaan.</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="data-types.html#cb186-1" aria-hidden="true" tabindex="-1"></a>X <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>, <span class="at">nrow =</span> <span class="dv">3</span>)</span>
<span id="cb186-2"><a href="data-types.html#cb186-2" aria-hidden="true" tabindex="-1"></a>Y <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">11</span>, <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb186-3"><a href="data-types.html#cb186-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Element-wise multiplication</span></span>
<span id="cb186-4"><a href="data-types.html#cb186-4" aria-hidden="true" tabindex="-1"></a>X <span class="sc">*</span> <span class="dv">2</span></span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    2    8   14
## [2,]    4   10   16
## [3,]    6   12   18</code></pre>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="data-types.html#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Element-wise sum</span></span>
<span id="cb188-2"><a href="data-types.html#cb188-2" aria-hidden="true" tabindex="-1"></a>X <span class="sc">+</span> Y</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    4   10   16
## [2,]    6   12   18
## [3,]    8   14   20</code></pre>
<p>Matriiseille on lisäksi määritelty paljon matriisien omia laskutoimituksia, niistä voi lukea lisää oppikirjasta. Matriisilaskentaa opiskelleille huomio: R:ssä oletuksena kertolasku tehdään alkioittain, matriisien kertolasku tapahtuu operaattorilla <code>%*%</code>.</p>
</div>
</div>
<div id="tietotyyppien-tarkastelu" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> Tietotyyppien tarkastelu</h2>
<p>Kaikkia objekteja voi tulostaa Console-ikkunassa kutsumalla objektin nimen. Joskus tarvitaan kuitenkin apufunktioita.</p>
<div id="view" class="section level3" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> View()</h3>
<p>Mikäli käytät RStudiota, niin tarkempaa tarkastelua varten kannattaa kuitenkin käyttää <code>View</code>-funktiota. <code>View</code> avaa ikkunan, jossa voi selata data framen tai matriisin rivejä ja sarakkeita, sekä järjestää arvoja halutun sarakkeen mukaan (tämä järjestys säilyy vain <code>View</code>-näkymässä, itse muuttujan rakenne ei muutu). Mikäli aineistossasi on satoja tuhansia tai miljoonia rivejä, niin <code>View</code> saattaa olla liian hidas.</p>
</div>
<div id="str" class="section level3" number="3.3.2">
<h3><span class="header-section-number">3.3.2</span> str()</h3>
<p>Perineinen tapa tarkastella tietotyyppejä R:ssä on funktio nimeltä <code>str()</code> str toimii kaikissa R-ympäristöissä. str tulostaa sekä muuttujien nimet, niiden vektoreiden tyypit että ruudulle mahtuvan osan vektoreiden alkioista.</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="data-types.html#cb190-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Examine the structure of data frame</span></span>
<span id="cb190-2"><a href="data-types.html#cb190-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(study_data)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    8 obs. of  3 variables:
##  $ ID    : int  1 2 3 4 5 6 7 8
##  $ height: num  190 184 174 176 169 ...
##  $ gender: chr  &quot;male&quot; &quot;female&quot; &quot;male&quot; &quot;male&quot; ...</code></pre>
</div>
<div id="head" class="section level3" number="3.3.3">
<h3><span class="header-section-number">3.3.3</span> head()</h3>
<p>Jos aineistossa on todella paljon rivejä, on sen tulostaminen Console-ikkunaan ikävää. Ladataan esimerkiksi iris-data, jossa on 150 havaintoa. Tulostettaessa rivejä on niin monta, että muuttujien nimet eivät näy, mikä on epämiellyttävää. Parempi tapa saada käsitys aineistosta on kutsua sitä head-funktion avulla.</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="data-types.html#cb192-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load data for this example</span></span>
<span id="cb192-2"><a href="data-types.html#cb192-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(iris)</span>
<span id="cb192-3"><a href="data-types.html#cb192-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb192-4"><a href="data-types.html#cb192-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Try to print iris-data directly</span></span>
<span id="cb192-5"><a href="data-types.html#cb192-5" aria-hidden="true" tabindex="-1"></a>iris</span></code></pre></div>
<p><img src="files/02-data_types/iris_print_data.png" /></p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="data-types.html#cb193-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Print 6 first rows of iris data</span></span>
<span id="cb193-2"><a href="data-types.html#cb193-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(iris)</span></code></pre></div>
<p><img src="files/02-data_types/iris_print_head_data.png" /></p>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="data-types.html#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="co"># You can also define the number of rows to print</span></span>
<span id="cb194-2"><a href="data-types.html#cb194-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(iris,<span class="dv">2</span>)</span></code></pre></div>
<p><img src="files/02-data_types/iris_print_head2_data.png" /></p>
</div>
</div>
<div id="extra-taulukko-ja-lista" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> Extra: Taulukko ja lista</h2>
<p>Taulukoita ja listoija ei ihan perus data-analyysiä toteutettaessa tarvitse. Lue kuitenkin seuraava, jotta saat yleiskäsityksen mihin niitä tarvitaan. Voit myös palata perehtymään taulukoihin ja listoihin myöhemmin koska tahansa.</p>
<div id="taulukko" class="section level3" number="3.4.1">
<h3><span class="header-section-number">3.4.1</span> Taulukko</h3>
<p>Kuten alussa todettiin, taulukot (array) ovat hyvin harvinaisia, joten niihin ei kannata tällä kurssilla keskittyä. Niitä kuitenkin tarvitaan joidenkin tehtävien tekemiseen, joten tässä on hyvin lyhyt oppimäärä taulukoista.</p>
<p>Taulukot ovat matriisien kaltaisia, mutta taulukossa voi olla yli kaksi ulottuvuutta. Oikeastaan matriisit ovat kaksiulotteisia taulukoita. Alla on esimerkki 3-ulotteisesta taulukosta, jota voi ajatella “peräkkäin” olevina matriiseina. Alla on kuva 1-ulotteisesta taulukosta eli vektorista, 2-ulotteisesta taulukosta eli matriisista ja 3-ulotteisesta taulukosta.</p>
<p><img src="files/array.png" /></p>
<p>Taulukkoja luodaan matriisien tapaan funktiolla <code>array</code>. Toisin kuin matriisien tapauksessa, <code>array</code>-funktiolle pitää kertoa rivien ja sarakkeiden määrän lisäksi ulottuvuuksien määrä. Alla oleva esimerkki luo 3-ulotteisen taulukon, jonka voi ajatella koostuvan kolmesta 4 x 2 matriisista.</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="data-types.html#cb195-1" aria-hidden="true" tabindex="-1"></a>my_array <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">24</span>, <span class="at">dim =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">3</span>))</span>
<span id="cb195-2"><a href="data-types.html#cb195-2" aria-hidden="true" tabindex="-1"></a>my_array</span></code></pre></div>
<pre><code>## , , 1
## 
##      [,1] [,2]
## [1,]    1    5
## [2,]    2    6
## [3,]    3    7
## [4,]    4    8
## 
## , , 2
## 
##      [,1] [,2]
## [1,]    9   13
## [2,]   10   14
## [3,]   11   15
## [4,]   12   16
## 
## , , 3
## 
##      [,1] [,2]
## [1,]   17   21
## [2,]   18   22
## [3,]   19   23
## [4,]   20   24</code></pre>
<p>Taulukoita indeksoidaan aivan kuten matriiseja, mutta jokaiselle ulottuvuudelle on annettava oma indeksi:</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="data-types.html#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="co"># The first 2 rows of each &quot;layer&quot;</span></span>
<span id="cb197-2"><a href="data-types.html#cb197-2" aria-hidden="true" tabindex="-1"></a>my_array[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, , ]</span></code></pre></div>
<pre><code>## , , 1
## 
##      [,1] [,2]
## [1,]    1    5
## [2,]    2    6
## 
## , , 2
## 
##      [,1] [,2]
## [1,]    9   13
## [2,]   10   14
## 
## , , 3
## 
##      [,1] [,2]
## [1,]   17   21
## [2,]   18   22</code></pre>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="data-types.html#cb199-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Second column from last two layers</span></span>
<span id="cb199-2"><a href="data-types.html#cb199-2" aria-hidden="true" tabindex="-1"></a>my_array[, <span class="dv">2</span>, <span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>]</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]   13   21
## [2,]   14   22
## [3,]   15   23
## [4,]   16   24</code></pre>
</div>
<div id="lista" class="section level3" number="3.4.2">
<h3><span class="header-section-number">3.4.2</span> Lista</h3>
<p>Listat ovat tärkeitä erityisesti silloin, kun aletaan toteuttamaan uusia toimintoja R-kieleen omien funktioiden avulla. Niin kauan kun valmiit R-funktiot riittävät, ei listoilla ole juuri käyttöä.</p>
<p>Lista (list) on vektorinkaltainen tietorakenne, jossa on järjestyksessä alkioita, jotka on mahdollisesti nimetty. Tärkeä ero vektoriin verrattuna on, että listan alkiot voivat olla erityyppisiä. Listoja luodaan <code>list</code>-funktiolla:</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="data-types.html#cb201-1" aria-hidden="true" tabindex="-1"></a>example_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>),</span>
<span id="cb201-2"><a href="data-types.html#cb201-2" aria-hidden="true" tabindex="-1"></a>                     <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">ncol =</span> <span class="dv">4</span>),</span>
<span id="cb201-3"><a href="data-types.html#cb201-3" aria-hidden="true" tabindex="-1"></a>                     <span class="st">&quot;list can include anything&quot;</span>)</span>
<span id="cb201-4"><a href="data-types.html#cb201-4" aria-hidden="true" tabindex="-1"></a>example_list</span></code></pre></div>
<pre><code>## [[1]]
## [1] 1 2 3
## 
## [[2]]
##      [,1] [,2] [,3] [,4]
## [1,]    0    0    0    0
## [2,]    0    0    0    0
## [3,]    0    0    0    0
## 
## [[3]]
## [1] &quot;list can include anything&quot;</code></pre>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="data-types.html#cb203-1" aria-hidden="true" tabindex="-1"></a>subject_ids <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;ANKL&quot;</span>, <span class="st">&quot;PEPA&quot;</span>, <span class="st">&quot;DIPR&quot;</span>)</span>
<span id="cb203-2"><a href="data-types.html#cb203-2" aria-hidden="true" tabindex="-1"></a>measurements <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="fl">2.5</span>, <span class="dv">3</span>,</span>
<span id="cb203-3"><a href="data-types.html#cb203-3" aria-hidden="true" tabindex="-1"></a>                         <span class="fl">3.5</span>, <span class="dv">5</span>, <span class="dv">3</span>,</span>
<span id="cb203-4"><a href="data-types.html#cb203-4" aria-hidden="true" tabindex="-1"></a>                         <span class="fl">2.3</span>, <span class="dv">3</span>, <span class="fl">1.6</span>),</span>
<span id="cb203-5"><a href="data-types.html#cb203-5" aria-hidden="true" tabindex="-1"></a>                       <span class="at">nrow =</span> <span class="dv">3</span>)</span>
<span id="cb203-6"><a href="data-types.html#cb203-6" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(measurements) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;CRP&quot;</span>, <span class="st">&quot;HDL&quot;</span>, <span class="st">&quot;LDL&quot;</span>)</span>
<span id="cb203-7"><a href="data-types.html#cb203-7" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(measurements) <span class="ot">&lt;-</span> subject_ids</span>
<span id="cb203-8"><a href="data-types.html#cb203-8" aria-hidden="true" tabindex="-1"></a><span class="co"># List names can be given with or without quotes</span></span>
<span id="cb203-9"><a href="data-types.html#cb203-9" aria-hidden="true" tabindex="-1"></a>study <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">Subject_ID =</span> subject_ids,</span>
<span id="cb203-10"><a href="data-types.html#cb203-10" aria-hidden="true" tabindex="-1"></a>              <span class="st">&quot;Measurements&quot;</span> <span class="ot">=</span> measurements,</span>
<span id="cb203-11"><a href="data-types.html#cb203-11" aria-hidden="true" tabindex="-1"></a>              <span class="at">Study_name =</span> <span class="st">&quot;Blood tests&quot;</span>)</span>
<span id="cb203-12"><a href="data-types.html#cb203-12" aria-hidden="true" tabindex="-1"></a>study</span></code></pre></div>
<pre><code>## $Subject_ID
## [1] &quot;ANKL&quot; &quot;PEPA&quot; &quot;DIPR&quot;
## 
## $Measurements
##      CRP HDL LDL
## ANKL 1.0 3.5 2.3
## PEPA 2.5 5.0 3.0
## DIPR 3.0 3.0 1.6
## 
## $Study_name
## [1] &quot;Blood tests&quot;</code></pre>
<p>Listoja ja niiden kaltaisia olioita käytetään R:ssä paljon. Listoihin on kätevä kerätä erilaista tietoa, jotka halutaan säilyttää samassa paketissa. Esimerkiksi yksinkertaisetkin tilastolliset mallit tuottavat paljon erilaista tietoa, jotka pakataan listaan (tarkemmin listan kaltaiseen olioon, tästä lisää myöhemmin).</p>
<div id="listojen-alkioiden-käsittely" class="section level4" number="3.4.2.1">
<h4><span class="header-section-number">3.4.2.1</span> Listojen alkioiden käsittely</h4>
<p>Listan alkioihin pääsee käsiksi kahdella eri tavalla: kaksoishakasulkeilla <code>[[]]</code> tai, jos lista on nimetty, dollarimerkillä <code>$</code>:</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="data-types.html#cb205-1" aria-hidden="true" tabindex="-1"></a><span class="co"># By position</span></span>
<span id="cb205-2"><a href="data-types.html#cb205-2" aria-hidden="true" tabindex="-1"></a>study[[<span class="dv">2</span>]]</span></code></pre></div>
<pre><code>##      CRP HDL LDL
## ANKL 1.0 3.5 2.3
## PEPA 2.5 5.0 3.0
## DIPR 3.0 3.0 1.6</code></pre>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="data-types.html#cb207-1" aria-hidden="true" tabindex="-1"></a><span class="co"># By name</span></span>
<span id="cb207-2"><a href="data-types.html#cb207-2" aria-hidden="true" tabindex="-1"></a>study[[<span class="st">&quot;Subject_ID&quot;</span>]]</span></code></pre></div>
<pre><code>## [1] &quot;ANKL&quot; &quot;PEPA&quot; &quot;DIPR&quot;</code></pre>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="data-types.html#cb209-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using dollar sign</span></span>
<span id="cb209-2"><a href="data-types.html#cb209-2" aria-hidden="true" tabindex="-1"></a>study<span class="sc">$</span>Study_name</span></code></pre></div>
<pre><code>## [1] &quot;Blood tests&quot;</code></pre>
<p>Listaa voi indeksoida myös yksinkertaisilla hakasulkeilla. Tällöin palautetaan aina lista, eikä yksittäistä alkiota kuten aiemmin. Tämän demonstroiminen vaatii tutustumista uuteen funktioon <code>class</code>, joka palauttaa argumenttinsa luokan (class). Vektorin luokka vaihtelee vektorin sisällön mukaan: numeric = lukuja, character = merkkijonoja, logical = loogisia arvoja, jne. Listojen luokka on luonnollisesti list. Lisätietoa: R:ssä kaikki muuttujiin tallennettavat tiedot ovat olioita (object). Ohjelmointikielten olioilla on aina luokka, joka määrittää sen ominaisuudet. Esimerkiksi <code>print</code> ja <code>plot</code>-komennot toimivat eri tavalla riippuen niiden argumentin luokasta.</p>
<p>Tarkastellaan alla, mikä ero yksinkertaisilla ja kaksinkertaisilla hakasulkeilla on listan indeksoinnissa:</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="data-types.html#cb211-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Returns a list of length one with the matrix as the only element</span></span>
<span id="cb211-2"><a href="data-types.html#cb211-2" aria-hidden="true" tabindex="-1"></a>study[<span class="dv">2</span>]</span></code></pre></div>
<pre><code>## $Measurements
##      CRP HDL LDL
## ANKL 1.0 3.5 2.3
## PEPA 2.5 5.0 3.0
## DIPR 3.0 3.0 1.6</code></pre>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="data-types.html#cb213-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(study[<span class="dv">2</span>])</span></code></pre></div>
<pre><code>## [1] &quot;list&quot;</code></pre>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="data-types.html#cb215-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Returns the actual matrix</span></span>
<span id="cb215-2"><a href="data-types.html#cb215-2" aria-hidden="true" tabindex="-1"></a>study[[<span class="dv">2</span>]]</span></code></pre></div>
<pre><code>##      CRP HDL LDL
## ANKL 1.0 3.5 2.3
## PEPA 2.5 5.0 3.0
## DIPR 3.0 3.0 1.6</code></pre>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="data-types.html#cb217-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(study[[<span class="dv">2</span>]])</span></code></pre></div>
<pre><code>## [1] &quot;matrix&quot; &quot;array&quot;</code></pre>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="data-types.html#cb219-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Dollar sign also returns the matrix</span></span>
<span id="cb219-2"><a href="data-types.html#cb219-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(study<span class="sc">$</span>Measurements)</span></code></pre></div>
<pre><code>## [1] &quot;matrix&quot; &quot;array&quot;</code></pre>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="data-types.html#cb221-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Single brackets works as subscripting just like with vectors</span></span>
<span id="cb221-2"><a href="data-types.html#cb221-2" aria-hidden="true" tabindex="-1"></a>study[<span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>]</span></code></pre></div>
<pre><code>## $Measurements
##      CRP HDL LDL
## ANKL 1.0 3.5 2.3
## PEPA 2.5 5.0 3.0
## DIPR 3.0 3.0 1.6
## 
## $Study_name
## [1] &quot;Blood tests&quot;</code></pre>
</div>
<div id="alkion-lisäys-listaan-ja-listojen-yhdistäminen" class="section level4" number="3.4.2.2">
<h4><span class="header-section-number">3.4.2.2</span> Alkion lisäys listaan ja listojen yhdistäminen</h4>
<p>Yksittäisen alkion voi lisätä listaan sijoittamalla listan johonkin indeksiin tai nimeen uusi arvo (indeksin pitää olla yhtä suurempi kuin listan pituus). HUOM! Listan alkio voi myös itse olla lista (sisäkkäinen lista = nested list).</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="data-types.html#cb223-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a character matrix as the fourth element of study</span></span>
<span id="cb223-2"><a href="data-types.html#cb223-2" aria-hidden="true" tabindex="-1"></a>study[[<span class="dv">4</span>]] <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="st">&quot;CPR&quot;</span>, <span class="st">&quot;HDL&quot;</span>, <span class="st">&quot;LDL&quot;</span>,</span>
<span id="cb223-3"><a href="data-types.html#cb223-3" aria-hidden="true" tabindex="-1"></a>                       <span class="st">&quot;C-reactive protein&quot;</span>, <span class="st">&quot;High-density lipoprotein&quot;</span>,</span>
<span id="cb223-4"><a href="data-types.html#cb223-4" aria-hidden="true" tabindex="-1"></a>                       <span class="st">&quot;Low-density lipoprotein&quot;</span>),</span>
<span id="cb223-5"><a href="data-types.html#cb223-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">ncol =</span> <span class="dv">2</span>)</span>
<span id="cb223-6"><a href="data-types.html#cb223-6" aria-hidden="true" tabindex="-1"></a><span class="co"># An element of a list can also be a list</span></span>
<span id="cb223-7"><a href="data-types.html#cb223-7" aria-hidden="true" tabindex="-1"></a>study[[<span class="st">&quot;professional&quot;</span>]] <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">name =</span> <span class="fu">c</span>(<span class="st">&quot;John H. Watson&quot;</span>),</span>
<span id="cb223-8"><a href="data-types.html#cb223-8" aria-hidden="true" tabindex="-1"></a>                                <span class="at">position =</span> <span class="st">&quot;Medical doctor&quot;</span>,</span>
<span id="cb223-9"><a href="data-types.html#cb223-9" aria-hidden="true" tabindex="-1"></a>                                <span class="at">age =</span> <span class="dv">45</span>)</span>
<span id="cb223-10"><a href="data-types.html#cb223-10" aria-hidden="true" tabindex="-1"></a>study</span></code></pre></div>
<pre><code>## $Subject_ID
## [1] &quot;ANKL&quot; &quot;PEPA&quot; &quot;DIPR&quot;
## 
## $Measurements
##      CRP HDL LDL
## ANKL 1.0 3.5 2.3
## PEPA 2.5 5.0 3.0
## DIPR 3.0 3.0 1.6
## 
## $Study_name
## [1] &quot;Blood tests&quot;
## 
## [[4]]
##      [,1]  [,2]                      
## [1,] &quot;CPR&quot; &quot;C-reactive protein&quot;      
## [2,] &quot;HDL&quot; &quot;High-density lipoprotein&quot;
## [3,] &quot;LDL&quot; &quot;Low-density lipoprotein&quot; 
## 
## $professional
## $professional$name
## [1] &quot;John H. Watson&quot;
## 
## $professional$position
## [1] &quot;Medical doctor&quot;
## 
## $professional$age
## [1] 45</code></pre>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="data-types.html#cb225-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Note that the fourth element has no name</span></span>
<span id="cb225-2"><a href="data-types.html#cb225-2" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(study)</span></code></pre></div>
<pre><code>## [1] &quot;Subject_ID&quot;   &quot;Measurements&quot; &quot;Study_name&quot;   &quot;&quot;             &quot;professional&quot;</code></pre>
<p>Listoja voi yhdistää vektorien tapaan <code>c()</code>-funktiolla:</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="data-types.html#cb227-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Concatenate two vectors</span></span>
<span id="cb227-2"><a href="data-types.html#cb227-2" aria-hidden="true" tabindex="-1"></a>vector1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">5</span>)</span>
<span id="cb227-3"><a href="data-types.html#cb227-3" aria-hidden="true" tabindex="-1"></a>vector2 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb227-4"><a href="data-types.html#cb227-4" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(vector1, vector2)</span></code></pre></div>
<pre><code>## [1] 3 6 5 1 2 3</code></pre>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="data-types.html#cb229-1" aria-hidden="true" tabindex="-1"></a>list1 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">vector =</span> vector1,</span>
<span id="cb229-2"><a href="data-types.html#cb229-2" aria-hidden="true" tabindex="-1"></a>              <span class="at">name =</span> <span class="st">&quot;list1&quot;</span>)</span>
<span id="cb229-3"><a href="data-types.html#cb229-3" aria-hidden="true" tabindex="-1"></a>list2 <span class="ot">&lt;-</span> study[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>]</span>
<span id="cb229-4"><a href="data-types.html#cb229-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Concatenate three lists, names stay the same</span></span>
<span id="cb229-5"><a href="data-types.html#cb229-5" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(list1, list2, <span class="fu">list</span>(<span class="at">first_element =</span> <span class="st">&quot;A&quot;</span>, <span class="at">second =</span> <span class="st">&quot;B&quot;</span>))</span></code></pre></div>
<pre><code>## $vector
## [1] 3 6 5
## 
## $name
## [1] &quot;list1&quot;
## 
## $Subject_ID
## [1] &quot;ANKL&quot; &quot;PEPA&quot; &quot;DIPR&quot;
## 
## $Measurements
##      CRP HDL LDL
## ANKL 1.0 3.5 2.3
## PEPA 2.5 5.0 3.0
## DIPR 3.0 3.0 1.6
## 
## $first_element
## [1] &quot;A&quot;
## 
## $second
## [1] &quot;B&quot;</code></pre>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="variables-and-vectors.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="reading-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["R-ohjelmoinnin perusteet.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
